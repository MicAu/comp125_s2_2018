\newcommand{\insunsorted}{{80,70,10,10,50,30,90,40}}
\newcommand{\insitera}{{70,80,10,10,50,30,90,40}}
\newcommand{\insiterb}{{10,70,80,10,50,30,90,40}}
\newcommand{\insiterc}{{10,10,70,80,50,30,90,40}}
\newcommand{\insiterd}{{10,10,50,70,80,30,90,40}}
\newcommand{\insitere}{{10,10,30,50,70,80,90,40}}
\newcommand{\insiterf}{{10,10,30,50,70,80,90,40}}
\newcommand{\insiterg}{{10,10,30,40,50,70,80,90}}
\newcommand{\inssorted}{{10,10,30,40,50,70,80,90}}
\begin{center}
\bgroup \tikzset{png export} \begin{tikzpicture}[scale = 0.8]
\pgfmathsetmacro{\step}{15}
\pgfmathsetmacro{\headerChange}{1}
\pgfmathsetmacro{\change}{-2}

\foreach \x in {0,...,0} {
	\node[sorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insunsorted[\x]}\pgfmathresult};
}
\node at (0, \step+\headerChange) {a[0]};
\foreach \x in {1,...,7} {
	\ifthenelse{\x=1}
	{
	\node[current] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insunsorted[\x]}\pgfmathresult};
	}
	{
	\node[unsorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insunsorted[\x]}\pgfmathresult};
	}
	\node at (\x*1.5, \step+\headerChange) {a[\x]};
}
\draw [ultra thick, rounded corners, ->] (1*1.5, \step-0.6) -- (1*1.5, \step-1) -- (-0.75, \step-1) -- (-0.75, \step-0.5);

\edef\step{\step+\change}
\node[sorted] at (0*1.5,\step) (block0) {\pgfmathparse{\insitera[0]}\pgfmathresult};

\foreach \x in {0,...,1} {
	\node[sorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insitera[\x]}\pgfmathresult};
}
\foreach \x in {2,...,7} {
	\ifthenelse{\x=2}
	{
		\node[current] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insitera[\x]}\pgfmathresult};
	}
	{
	\node[unsorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insitera[\x]}\pgfmathresult};
	}
}
\draw [ultra thick, rounded corners, ->] (2*1.5, \step-0.6) -- (2*1.5, \step-1) -- (-0.75, \step-1) -- (-0.75, \step-0.5);

\edef\step{\step+\change}
\foreach \x in {0,...,2} {
	\node[sorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insiterb[\x]}\pgfmathresult};
}
\foreach \x in {3,...,7} {
	\ifthenelse{\x=3}
	{
		\node[current] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insiterb[\x]}\pgfmathresult};
		}
		{
		\node[unsorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insiterb[\x]}\pgfmathresult};

		}
}
\draw [ultra thick, rounded corners, ->] (3*1.5, \step-0.6) -- (3*1.5, \step-1) -- (-0.75 + 1*1.5, \step-1) -- (-0.75 + 1*1.5, \step-0.5);

\edef\step{\step+\change}
\foreach \x in {0,...,3} {
	\node[sorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insiterc[\x]}\pgfmathresult};
}
\foreach \x in {4,...,7} {
	\ifthenelse{\x=4} {
	\node[current] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insiterc[\x]}\pgfmathresult};
	}
	{
	\node[unsorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insiterc[\x]}\pgfmathresult};
	}
}
\draw [ultra thick, rounded corners, ->] (4*1.5, \step-0.6) -- (4*1.5, \step-1) -- (-0.75 + 2*1.5, \step-1) -- (-0.75 + 2*1.5, \step-0.5);

\edef\step{\step+\change}
\foreach \x in {0,...,4} {
	\node[sorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insiterd[\x]}\pgfmathresult};
}
\foreach \x in {5,...,7} {
	\ifthenelse{\x=5}
	{
	\node[current] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insiterd[\x]}\pgfmathresult};
	}
	{
	\node[unsorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insiterd[\x]}\pgfmathresult};
	}
}
\draw [ultra thick, rounded corners, ->] (5*1.5, \step-0.6) -- (5*1.5, \step-1) -- (-0.75 + 2*1.5, \step-1) -- (-0.75 + 2*1.5, \step-0.5);

\edef\step{\step+\change}
\foreach \x in {0,...,5} {
	\node[sorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insitere[\x]}\pgfmathresult};
}
\foreach \x in {6,...,7} {
	\ifthenelse{\x=6} 
	{
	\node[current] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insitere[\x]}\pgfmathresult};
	}
	{
	\node[unsorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insitere[\x]}\pgfmathresult};
	}
}
\draw [ultra thick, rounded corners, ->] (6*1.5, \step-0.6) -- (6*1.5, \step-1) -- (6*1.5-0.75, \step-1) -- (6*1.5-0.75, \step-0.6);

\edef\step{\step+\change}
\foreach \x in {0,...,6} {
	\node[sorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insiterf[\x]}\pgfmathresult};
}
\foreach \x in {7,...,7} {
	\ifthenelse{\x=7}
	{
	\node[current] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insiterf[\x]}\pgfmathresult};
	}
	{
	\node[unsorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insiterf[\x]}\pgfmathresult};
	}
}
\draw [ultra thick, rounded corners, ->] (7*1.5, \step-0.6) -- (7*1.5, \step-1) -- (-0.75 + 3*1.5, \step-1) -- (-0.75 + 3*1.5, \step-0.5);

\edef\step{\step+\change}
\foreach \x in {0,...,6} {
	\node[sorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insiterg[\x]}\pgfmathresult};
}
\foreach \x in {7,...,7} {
	\node[unsorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\insiterg[\x]}\pgfmathresult};
}

\foreach \x in {0,1,...,7} {
	\node[sorted] at (\x*1.5,\step) (block\x) {\pgfmathparse{\inssorted[\x]}\pgfmathresult};
}
\end{tikzpicture} \egroup
\end{center}
